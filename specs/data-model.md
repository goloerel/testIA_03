# Data Model: Vehicle Inventory API

## 1. Entity Definition: Vehicle

The MongoDB collection will be named `vehicles`. Each document represents a transport unit with the following attributes:

| Field Name | Data Type | Validation Rules | Description |
| :--- | :--- | :--- | :--- |
| `_id` | ObjectId | - | Automatically generated by MongoDB. |
| `placa` | String | Regex (Mexican Format) | **Required**. Example: `ABC-1234` or `AB-12345`. |
| `numero_economico` | String | Unique | **Required**. Must be unique in the fleet. |
| `marca` | String | - | **Required**. Example: `Kenworth`, `Freightliner`. |
| `modelo` | String | - | **Required**. |
| `anno` | Integer | 1990 ≤ year ≤ 2026 | **Required**. |
| `tipo_vehiculo` | Enum | [VehicleType](#2-enums-and-constants) | **Required**. |
| `capacidad_carga_kg` | Float | > 0 | **Required**. |
| `numero_serie` | String | Length = 17 | **Required**. VIN (Vehicle Identification Number). |
| `estado_vehiculo` | Enum | [VehicleStatus](#2-enums-and-constants) | **Required**. |
| `fecha_alta` | DateTime | - | Automatically generated upon creation. |
| `ultima_verificacion` | DateTime | ISO 8601 | Optional. |
| `poliza_seguro` | String | - | **Required**. |
| `vigencia_seguro` | Date | > date_registered | **Required**. Must be a future date. |
| `kilometraje_actual` | Integer | >= 0 | _Optional Bonus_. |
| `tipo_combustible` | Enum | [FuelType](#2-enums-and-constants) | _Optional Bonus_. |

## 2. Enums and Constants

Strict definitions for type validation:

### VehicleType
*   `TRACTOR_TRUCK`
*   `RIGID_TRUCK`
*   `TRAILER`
*   `DOLLY`

### VehicleStatus
*   `ACTIVE`
*   `IN_MAINTENANCE`
*   `OUT_OF_SERVICE`

### FuelType (Bonus)
*   `DIESEL`
*   `NATURAL_GAS`
*   `ELECTRIC`

## 3. Index Definitions

To optimize queries and enforce integrity:

*   **Unique Index**: `numero_economico` (No two trucks can exist with the same internal number).
*   **Unique Index**: `placa` (License plates are unique legal identifiers).
*   **Search Index**: `estado_vehiculo` (For fast filtering of operational units).

## 4. Sample Document (JSON)

```json
{
  "placa": "74-AS-9K",
  "numero_economico": "MTY-105",
  "marca": "Kenworth",
  "modelo": "T680",
  "anno": 2024,
  "tipo_vehiculo": "TRACTOR_TRUCK",
  "capacidad_carga_kg": 35000.0,
  "numero_serie": "1NKDL4XDXMP123456",
  "estado_vehiculo": "ACTIVE",
  "fecha_alta": "2026-01-29T10:00:00Z",
  "poliza_seguro": "QUALITAS-998877",
  "vigencia_seguro": "2027-01-29",
  "kilometraje_actual": 15000,
  "tipo_combustible": "DIESEL"
}
```
